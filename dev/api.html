<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>brim &mdash; Brim.Net Core Package 0.05 documentation</title>
    
    <link rel="stylesheet" href="_static/brim.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.05',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Brim.Net Core Package 0.05 documentation" href="index.html" />
    <link rel="prev" title="Sample brimd.conf" href="brimdconfsample.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="brimdconfsample.html" title="Sample brimd.conf"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Brim.Net Core Package 0.05 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>API Documentation</h1><div class="section" id="module-brim">
<span id="brim"></span><h1>brim<a class="headerlink" href="#module-brim" title="Permalink to this headline">¶</a></h1>
<p>The Brim.Net Core Package.</p>
<p>It provides some reusable utility code and provides brimd, a launcher
offering ease of deployment of WSGI applications (currently just using
the Eventlet WSGI server), straight TCP and UDP socket applications, and
maintaining background daemons.</p>
<table border="1" class="docutils">
<colgroup>
<col width="43%" />
<col width="57%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#module-brim" title="brim"><tt class="xref py py-mod docutils literal"><span class="pre">brim</span></tt></a></td>
<td>Just contains <tt class="docutils literal"><span class="pre">__version__</span></tt>.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.conf" title="brim.conf"><tt class="xref py py-mod docutils literal"><span class="pre">brim.conf</span></tt></a></td>
<td>Provides a simple way to work with
configuration files.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.daemon_sample" title="brim.daemon_sample"><tt class="xref py py-mod docutils literal"><span class="pre">brim.daemon_sample</span></tt></a></td>
<td>A sample implementation of a daemon.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.http" title="brim.http"><tt class="xref py py-mod docutils literal"><span class="pre">brim.http</span></tt></a></td>
<td>Utilities for working with HTTP.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.httpform" title="brim.httpform"><tt class="xref py py-mod docutils literal"><span class="pre">brim.httpform</span></tt></a></td>
<td>Module for working with HTTP Form POSTs
iteratively.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.log" title="brim.log"><tt class="xref py py-mod docutils literal"><span class="pre">brim.log</span></tt></a></td>
<td>Logging utilities for brimd.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.server" title="brim.server"><tt class="xref py py-mod docutils literal"><span class="pre">brim.server</span></tt></a></td>
<td>The main module that implements the
Brim.Net Core Server.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.service" title="brim.service"><tt class="xref py py-mod docutils literal"><span class="pre">brim.service</span></tt></a></td>
<td>Provides functions useful for background
services.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.tcp_echo" title="brim.tcp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.tcp_echo</span></tt></a></td>
<td>A simple straight TCP socket
application.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.udp_echo" title="brim.udp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.udp_echo</span></tt></a></td>
<td>A simple straight UDP datagram
application.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.util" title="brim.util"><tt class="xref py py-mod docutils literal"><span class="pre">brim.util</span></tt></a></td>
<td>Miscellaneous classes and functions.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.wsgi_basic_auth" title="brim.wsgi_basic_auth"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_basic_auth</span></tt></a></td>
<td>A WSGI application that offers Basic
Auth capabilities.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.wsgi_echo" title="brim.wsgi_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_echo</span></tt></a></td>
<td>A simple WSGI application that just
echoes the request body.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#module-brim.wsgi_fs" title="brim.wsgi_fs"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_fs</span></tt></a></td>
<td>A WSGI application that simply serves up
files from the file system.</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#module-brim.wsgi_stats" title="brim.wsgi_stats"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_stats</span></tt></a></td>
<td>Reports the brimd server stats as a JSON
reponse.</td>
</tr>
</tbody>
</table>
<div class="section" id="module-brim.conf">
<span id="brim-conf"></span><h2>brim.conf<a class="headerlink" href="#module-brim.conf" title="Permalink to this headline">¶</a></h2>
<p>Provides a simple way to work with configuration files.</p>
<p>This module can translate a ConfigParser-style configuration file into a
simple dict, wrapping that with a <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">Conf</span></tt></a> class providing
convenient &quot;get&quot; functions that work much like dict's &quot;get&quot; method
(return None or the default value provided if the section or option is
missing) for various value types.</p>
<p>Simple Example Using <a class="reference internal" href="#brim.conf.read_conf" title="brim.conf.read_conf"><tt class="xref py py-func docutils literal"><span class="pre">read_conf()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="nb">exit</span>

<span class="kn">from</span> <span class="nn">brim.conf</span> <span class="kn">import</span> <span class="n">read_conf</span>

<span class="n">conf</span> <span class="o">=</span> <span class="n">read_conf</span><span class="p">([</span><span class="s">&#39;/etc/myco/myapp.conf&#39;</span><span class="p">,</span> <span class="s">&#39;~/.myapp.conf&#39;</span><span class="p">])</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">conf</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
    <span class="nb">exit</span><span class="p">(</span><span class="s">&#39;No configuration found.&#39;</span><span class="p">)</span>
<span class="n">port</span> <span class="o">=</span> <span class="n">conf</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s">&#39;server&#39;</span><span class="p">,</span> <span class="s">&#39;port&#39;</span><span class="p">,</span> <span class="mi">1234</span><span class="p">)</span>
<span class="k">print</span> <span class="s">&#39;Using port&#39;</span><span class="p">,</span> <span class="n">port</span>
</pre></div>
</div>
<p>By default, any error parsing the conf files or converting a value calls
sys.exit with an explanatory message. But you can override this behavior
by setting exit_on_read_exception to False and setting the
<a class="reference internal" href="#brim.conf.Conf.error" title="brim.conf.Conf.error"><tt class="xref py py-meth docutils literal"><span class="pre">Conf.error()</span></tt></a> method to your own method.</p>
<p>More Complex Example With Overrides:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">ConfigParser</span> <span class="kn">import</span> <span class="n">Error</span>
<span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="nb">exit</span>

<span class="kn">from</span> <span class="nn">brim.conf</span> <span class="kn">import</span> <span class="n">read_conf</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">conf</span> <span class="o">=</span> <span class="n">read_conf</span><span class="p">(</span>
        <span class="p">[</span><span class="s">&#39;/etc/myco/myapp.conf&#39;</span><span class="p">,</span> <span class="s">&#39;~/.myapp.conf&#39;</span><span class="p">],</span>
        <span class="n">exit_on_read_exception</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">except</span> <span class="n">Error</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="nb">exit</span><span class="p">(</span><span class="s">&#39;Config read error: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">conf</span><span class="o">.</span><span class="n">files</span><span class="p">:</span>
    <span class="nb">exit</span><span class="p">(</span><span class="s">&#39;No configuration found.&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">custom_error</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">conversion_type</span><span class="p">,</span> <span class="n">err</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="nb">basestring</span><span class="p">):</span>
        <span class="n">section</span> <span class="o">=</span> <span class="s">&#39;|&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">section</span><span class="p">)</span>  <span class="c"># Handle iter of sections</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
        <span class="s">&#39;Configuration value [</span><span class="si">%s</span><span class="s">] </span><span class="si">%s</span><span class="s"> of </span><span class="si">%r</span><span class="s"> cannot be converted &#39;</span>
        <span class="s">&#39;to </span><span class="si">%s</span><span class="s">.&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">conversion_type</span><span class="p">))</span>

<span class="n">conf</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">custom_error</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">port</span> <span class="o">=</span> <span class="n">conf</span><span class="o">.</span><span class="n">get_int</span><span class="p">(</span><span class="s">&#39;server&#39;</span><span class="p">,</span> <span class="s">&#39;port&#39;</span><span class="p">,</span> <span class="mi">1234</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
    <span class="nb">exit</span><span class="p">(</span><span class="s">&#39;Config conversion error: &#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
<span class="k">print</span> <span class="s">&#39;Using port&#39;</span><span class="p">,</span> <span class="n">port</span>
</pre></div>
</div>
<p>Another feature of read_conf is that if a conf file has a [brim]
additional_confs setting, the files listed there are also be parsed.
This lets an end user make a conf file to be included by one or more
other conf files. Splitting configuration like this can make deployment
to clusters easier. For example:</p>
<div class="highlight-python"><pre>[brim]
additional_confs = /etc/common.conf "/another file.conf" ~/.common.conf</pre>
</div>
<dl class="class">
<dt id="brim.conf.Conf">
<em class="property">class </em><tt class="descclassname">brim.conf.</tt><tt class="descname">Conf</tt><big>(</big><em>store</em>, <em>files=None</em><big>)</big><a class="headerlink" href="#brim.conf.Conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Wraps a configuration dict for richer access methods.</p>
<p>Within the dict store, each key is a section name and each value is
another dict. Each section dict key is an option name and each value
the actual value of the section/option within the conf. The list of
file names the configuration was read from may optionally be stored.</p>
<p>Normally Conf instances are created with the global function
<a class="reference internal" href="#brim.conf.read_conf" title="brim.conf.read_conf"><tt class="xref py py-func docutils literal"><span class="pre">read_conf()</span></tt></a> but you can construct Conf instances directly
as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Normally...</span>
<span class="n">conf</span> <span class="o">=</span> <span class="n">read_conf</span><span class="p">([</span><span class="s">&#39;/etc/myco/myapp.conf&#39;</span><span class="p">,</span> <span class="s">&#39;~/.myapp.conf&#39;</span><span class="p">])</span>

<span class="c"># Directly...</span>
<span class="n">conf</span> <span class="o">=</span> <span class="n">Conf</span><span class="p">({</span>
    <span class="s">&#39;section1&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;option1.1&#39;</span><span class="p">:</span> <span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;option1.2&#39;</span><span class="p">:</span> <span class="s">&#39;b&#39;</span><span class="p">},</span>
    <span class="s">&#39;section2&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;option2.1&#39;</span><span class="p">:</span> <span class="s">&#39;c&#39;</span><span class="p">,</span> <span class="s">&#39;option2.2&#39;</span><span class="p">:</span> <span class="s">&#39;d&#39;</span><span class="p">}})</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>store</strong> -- A dict representing the configuration, as described
above.</li>
<li><strong>files</strong> -- A list of file names the configuration was read from.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.conf.Conf.error">
<tt class="descname">error</tt><big>(</big><em>section</em>, <em>option</em>, <em>value</em>, <em>conversion_type</em>, <em>err</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles an error converting a section/option value.</p>
<p>This function is called when one of the &quot;get&quot; methods cannot
convert a value. By default, this method calls sys.exit with an
explanatory message, but you can override it by setting
Conf.error to another method.</p>
<p>An example of overriding to raise an Exception:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">_error</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">conversion_type</span><span class="p">,</span> <span class="n">err</span><span class="p">):</span>
    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span>
        <span class="s">&#39;Configuration value [</span><span class="si">%s</span><span class="s">] </span><span class="si">%s</span><span class="s"> of </span><span class="si">%r</span><span class="s"> cannot be &#39;</span>
        <span class="s">&#39;converted to </span><span class="si">%s</span><span class="s">.&#39;</span> <span class="o">%</span>
        <span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">conversion_type</span><span class="p">))</span>

<span class="n">conf</span> <span class="o">=</span> <span class="n">read_conf</span><span class="p">([</span><span class="s">&#39;some.conf&#39;</span><span class="p">])</span>
<span class="n">conf</span><span class="o">.</span><span class="n">error</span> <span class="o">=</span> <span class="n">_error</span>
</pre></div>
</div>
<p>Note that the section parameter may have been given as an
iterator of sections rather than just one section name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>section</strong> -- The section name (or an iterator of section
names) within the conf that was read.</li>
<li><strong>option</strong> -- The option name within the section that was read.</li>
<li><strong>value</strong> -- The value read and failed conversion.</li>
<li><strong>conversion_type</strong> -- The name of the type of conversion that
failed, such as <tt class="docutils literal"><span class="pre">'boolean'</span></tt>, <tt class="docutils literal"><span class="pre">'int'</span></tt>, <tt class="docutils literal"><span class="pre">'float'</span></tt>, or
<tt class="docutils literal"><span class="pre">path</span></tt>.</li>
<li><strong>err</strong> -- The Exception that was raised, if any, during the
conversion.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.conf.Conf.files">
<tt class="descname">files</tt><em class="property"> = None</em><a class="headerlink" href="#brim.conf.Conf.files" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of source conf file names the conf was read from.</p>
</dd></dl>

<dl class="method">
<dt id="brim.conf.Conf.get">
<tt class="descname">get</tt><big>(</big><em>section</em>, <em>option</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the section/option.</p>
</dd></dl>

<dl class="method">
<dt id="brim.conf.Conf.get_bool">
<tt class="descname">get_bool</tt><big>(</big><em>section</em>, <em>option</em>, <em>default</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.get_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the boolean value of the section/option.</p>
</dd></dl>

<dl class="method">
<dt id="brim.conf.Conf.get_float">
<tt class="descname">get_float</tt><big>(</big><em>section</em>, <em>option</em>, <em>default</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.get_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the float value of the section/option.</p>
</dd></dl>

<dl class="method">
<dt id="brim.conf.Conf.get_int">
<tt class="descname">get_int</tt><big>(</big><em>section</em>, <em>option</em>, <em>default</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.get_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the int value of the section/option.</p>
</dd></dl>

<dl class="method">
<dt id="brim.conf.Conf.get_path">
<tt class="descname">get_path</tt><big>(</big><em>section</em>, <em>option</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.conf.Conf.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path value of the section/option.</p>
<p>This is different that just retrieving a string only in that it
calls os.path.expanduser on the value, translating ~/path and
~user/path constructs.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.conf.Conf.store">
<tt class="descname">store</tt><em class="property"> = None</em><a class="headerlink" href="#brim.conf.Conf.store" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict containing the configuration information.</p>
<p>Each dict key is a section name and each value is another dict.
Each section dict key is an option name and each value the
actual value of the section/option within the conf.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="brim.conf.FALSE_VALUES">
<tt class="descclassname">brim.conf.</tt><tt class="descname">FALSE_VALUES</tt><em class="property"> = ['0', 'f', 'false', 'n', 'no', 'off']</em><a class="headerlink" href="#brim.conf.FALSE_VALUES" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of lowercase string values that equate to False.</p>
</dd></dl>

<dl class="data">
<dt id="brim.conf.TRUE_VALUES">
<tt class="descclassname">brim.conf.</tt><tt class="descname">TRUE_VALUES</tt><em class="property"> = ['1', 'on', 't', 'true', 'y', 'yes']</em><a class="headerlink" href="#brim.conf.TRUE_VALUES" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of lowercase string values that equate to True.</p>
</dd></dl>

<dl class="function">
<dt id="brim.conf.read_conf">
<tt class="descclassname">brim.conf.</tt><tt class="descname">read_conf</tt><big>(</big><em>conf_files</em>, <em>exit_on_read_exception=True</em><big>)</big><a class="headerlink" href="#brim.conf.read_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">Conf</span></tt></a> instance.</p>
<p>The new instance is based on the results from reading the conf_files
into a ConfigParser.SafeConfigParser.</p>
<p>Note that if the parser does not have access to read a given file it
acts as if it did not exist.</p>
<p>If a conf file has a [brim] additional_confs setting, the files
listed there are also be parsed.</p>
<p>You may wish to check the <a class="reference internal" href="#brim.conf.Conf.files" title="brim.conf.Conf.files"><tt class="xref py py-attr docutils literal"><span class="pre">Conf.files</span></tt></a> list to determine
which files, if any, were read to form the Conf instance.</p>
<p>On a parser error, calls sys.exit with an explanatory message by
default. If you set exit_on_read_exception to False, the
ConfigParser.Error be raised instead.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conf_files</strong> -- An iterable of conf files or a string
representing a single conf file to read and translate.
Values in files further into the list override any values from
prior files. File names may use the ~/filename or ~user/filename
format and are expanded with os.path.expanduser.</li>
<li><strong>exit_on_read_exception</strong> -- A boolean that indicates whether
sys.exit should be called on error or if a ConfigParser.Error
should be raised instead.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A new <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">Conf</span></tt></a> instance representing the
configuration read from the conf_files.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-brim.daemon_sample">
<span id="brim-daemon-sample"></span><h2>brim.daemon_sample<a class="headerlink" href="#module-brim.daemon_sample" title="Permalink to this headline">¶</a></h2>
<p>A simple daemon that just logs a status line every so often.</p>
<p>This can be a good starting point for other daemons. See the source for
what's implemented and why.</p>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">daemon_sample</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">daemon_sample</span><span class="o">.</span><span class="n">DaemonSample</span>
<span class="c"># interval = &lt;seconds&gt;</span>
<span class="c">#   The number of seconds between each status line logged.</span>
<span class="c">#   Default: 60</span>
</pre></div>
</div>
<p>Standard configuration options for all daemons are also supported. See
<a class="reference internal" href="brimdconfsample.html#brimdconfsample"><em>brimd.conf-sample</em></a> for more information.</p>
<p>Stats Variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>iterations</td>
<td>daemon</td>
<td>Number of times a status line has been logged.</td>
</tr>
<tr class="row-odd"><td>last_run</td>
<td>daemon</td>
<td>Timestamp when the last status line was logged.</td>
</tr>
<tr class="row-even"><td>start_time</td>
<td>daemon</td>
<td>Timestamp when the daemon was started. If the daemon
had to be restarted, this timestamp will be updated
with the new start time. This item is available with
all daemons and set by the controlling
<a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a>.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="brim.daemon_sample.DaemonSample">
<em class="property">class </em><tt class="descclassname">brim.daemon_sample.</tt><tt class="descname">DaemonSample</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.daemon_sample.DaemonSample" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A simple daemon that just logs a status line every so often.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the daemon.</li>
<li><strong>parsed_conf</strong> -- The result from parse_conf.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.daemon_sample.DaemonSample.__call__">
<tt class="descname">__call__</tt><big>(</big><em>subserver</em>, <em>stats</em><big>)</big><a class="headerlink" href="#brim.daemon_sample.DaemonSample.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs a status line every so often.</p>
<p>This is the main entry point to the daemon. The brimd subserver
will spawn a subprocess, create an instance of this daemon, and
call this method. If the method exits for any reason, brimd will
spawn a new subprocess, create a new daemon instance, and call
this method again to ensure the daemon is always running.</p>
<p>The stats object will have at least the stat variables asked for
in <a class="reference internal" href="#brim.daemon_sample.DaemonSample.stats_conf" title="brim.daemon_sample.DaemonSample.stats_conf"><tt class="xref py py-meth docutils literal"><span class="pre">stats_conf()</span></tt></a>. This stats object will support at
least the following methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>get(name)</td>
<td>Returns the int value of the stat named.</td>
</tr>
<tr class="row-even"><td>set(name, value)</td>
<td>Sets the value of the stat named. The value
will be treated as an unsigned integer.</td>
</tr>
<tr class="row-odd"><td>incr(name)</td>
<td>Increments the value of the stat named by 1.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>subserver</strong> -- The <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a> that is
managing this daemon.</li>
<li><strong>stats</strong> -- The shared memory statistics object as defined
above.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Hopefully never. If the method does return, the caller
should create a new daemon instance and call this method
again.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.daemon_sample.DaemonSample.interval">
<tt class="descname">interval</tt><em class="property"> = None</em><a class="headerlink" href="#brim.daemon_sample.DaemonSample.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of seconds between each status line logged.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.daemon_sample.DaemonSample.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.daemon_sample.DaemonSample.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the daemon.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.daemon_sample.DaemonSample.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.daemon_sample.DaemonSample.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into a daemon-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.daemon_sample.DaemonSample" title="brim.daemon_sample.DaemonSample"><tt class="xref py py-class docutils literal"><span class="pre">DaemonSample</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.daemon_sample" title="brim.daemon_sample"><tt class="xref py py-mod docutils literal"><span class="pre">brim.daemon_sample</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the daemon, indicates the daemon's
section in the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.daemon_sample.DaemonSample" title="brim.daemon_sample.DaemonSample"><tt class="xref py py-class docutils literal"><span class="pre">DaemonSample</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="brim.daemon_sample.DaemonSample.stats_conf">
<em class="property">classmethod </em><tt class="descname">stats_conf</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.daemon_sample.DaemonSample.stats_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (stat_name, stat_type) pairs.</p>
<p>These pairs specify the stat variables this daemon wants
established in the <tt class="docutils literal"><span class="pre">stats</span></tt> instance passed to
<a class="reference internal" href="#brim.daemon_sample.DaemonSample.__call__" title="brim.daemon_sample.DaemonSample.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a>.</p>
<p>Stats are often retrieved by users and utilities through WSGI
apps like <a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">brim.wsgi_stats.WSGIStats</span></tt></a>.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.daemon_sample" title="brim.daemon_sample"><tt class="xref py py-mod docutils literal"><span class="pre">brim.daemon_sample</span></tt></a> for what
stats are defined.</p>
<p>The available stat_types are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>daemon</td>
<td>Indicates a daemon only stat. No overall stat will be
reported.</td>
</tr>
<tr class="row-even"><td>sum</td>
<td>Indicates an overall stat should be reported that is a
sum of the stat from all daemons.</td>
</tr>
<tr class="row-odd"><td>min</td>
<td>Indicates an overall stat should be reported that is the
smallest value of the stat from all daemons.</td>
</tr>
<tr class="row-even"><td>max</td>
<td>Indicates an overall stat should be reported that is the
largest value of the stat from all daemons.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the daemon, indicates the daemon's
section in the overall configuration for the daemon server.</li>
<li><strong>parsed_conf</strong> -- The result from <a class="reference internal" href="#brim.daemon_sample.DaemonSample.parse_conf" title="brim.daemon_sample.DaemonSample.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of (stat_name, stat_type) pairs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-brim.http">
<span id="brim-http"></span><h2>brim.http<a class="headerlink" href="#module-brim.http" title="Permalink to this headline">¶</a></h2>
<p>Utilities for working with HTTP.</p>
<p>This isn't WebOb <a class="reference external" href="http://www.webob.org/">http://www.webob.org/</a> or Werkzeug
<a class="reference external" href="http://werkzeug.pocoo.org">http://werkzeug.pocoo.org</a> but often it's enough and you should be able
to upgrade easily to an alternative once you do need it.</p>
<p>There are classes for standard HTTP responses, such as
<a class="reference internal" href="#brim.http.HTTPNotFound" title="brim.http.HTTPNotFound"><tt class="xref py py-class docutils literal"><span class="pre">HTTPNotFound</span></tt></a> for 404. These classes are all subclasses of
<a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">HTTPException</span></tt></a> and therefore can be raised and caught as well
as used as WSGI apps. The 2xx classes are all subclasses of
<a class="reference internal" href="#brim.http.HTTPOk" title="brim.http.HTTPOk"><tt class="xref py py-class docutils literal"><span class="pre">HTTPOk</span></tt></a> (aka <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">HTTPSuccess</span></tt></a>), 3xx subclasses of
<a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">HTTPRedirection</span></tt></a>, 4xx subclasses of
<a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPClientError</span></tt></a>, and 5xx subclasses of
<a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPServerError</span></tt></a>. <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPClientError</span></tt></a> and
<a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPServerError</span></tt></a> also both subclass <a class="reference internal" href="#brim.http.HTTPError" title="brim.http.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPError</span></tt></a>.</p>
<p>Instead of a Request object, this package just provides some simpler
classes and functions, like <a class="reference internal" href="#brim.http.QueryParser" title="brim.http.QueryParser"><tt class="xref py py-class docutils literal"><span class="pre">QueryParser</span></tt></a> and
<a class="reference internal" href="#brim.http.get_header_int" title="brim.http.get_header_int"><tt class="xref py py-func docutils literal"><span class="pre">get_header_int()</span></tt></a>, and some replacement functions like
<a class="reference internal" href="#brim.http.quote" title="brim.http.quote"><tt class="xref py py-func docutils literal"><span class="pre">quote()</span></tt></a> (it's Unicode-safe by using UTF8).</p>
<dl class="data">
<dt id="brim.http.CODE2NAME">
<tt class="descclassname">brim.http.</tt><tt class="descname">CODE2NAME</tt><em class="property"> = {300: 'Multiple Choices', 301: 'Moved Permanently', 302: 'Found', 303: 'See Other', 304: 'Not Modified', 305: 'Use Proxy', 307: 'Temporary Redirect', 100: 'Continue', 101: 'Switching Protocols', 102: 'Processing', 400: 'Bad Request', 401: 'Unauthorized', 402: 'Payment Required', 403: 'Forbidden', 404: 'Not Found', 405: 'Method Not Allowed', 406: 'Not Acceptable', 407: 'Proxy Authentication Required', 408: 'Request Timeout', 409: 'Conflict', 410: 'Gone', 411: 'Length Required', 412: 'Precondition Failed', 413: 'Request Entity Too Large', 414: 'Request-URI Too Long', 415: 'Unsupported Media Type', 416: 'Requested Range Not Satisfiable', 417: 'Expectation Failed', 422: 'Unprocessable Entity', 423: 'Locked', 424: 'Failed Dependency', 426: 'Upgrade Required', 200: 'OK', 201: 'Created', 202: 'Accepted', 203: 'Non-Authoritative Information', 204: 'No Content', 205: 'Reset Content', 206: 'Partial Content', 207: 'Multi-Status', 208: 'Already Reported', 226: 'IM Used', 500: 'Internal Server Error', 501: 'Not Implemented', 502: 'Bad Gateway', 503: 'Service Unavailable', 504: 'Gateway Timeout', 505: 'HTTP Version Not Supported', 506: 'Variant Also Negotiates', 507: 'Insufficient Storage', 508: 'Loop Detected', 510: 'Not Extended'}</em><a class="headerlink" href="#brim.http.CODE2NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates an HTTP status code to an English reason string.</p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPAccepted">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPAccepted</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPAccepted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPAlreadyReported">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPAlreadyReported</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPAlreadyReported" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPBadGateway">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPBadGateway</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPBadGateway" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPBadRequest">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPBadRequest</tt><a class="headerlink" href="#brim.http.HTTPBadRequest" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPClientError">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPClientError</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=400</em><big>)</big><a class="headerlink" href="#brim.http.HTTPClientError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPError" title="brim.http.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPConflict">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPConflict</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPConflict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPContinue">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPContinue</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=100</em><big>)</big><a class="headerlink" href="#brim.http.HTTPContinue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPInformational" title="brim.http.HTTPInformational"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPInformational</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPCreated">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPCreated</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPCreated" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPError">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPError</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=500</em><big>)</big><a class="headerlink" href="#brim.http.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPException">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPException</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=500</em><big>)</big><a class="headerlink" href="#brim.http.HTTPException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Root class of all brim.http response classes.</p>
<p>If the body is None and the headers don't have a content-length or
transfer-encoding the body is set to a reasonable default for the
status code.</p>
<p>If the body has a length (as determined by
<tt class="docutils literal"><span class="pre">hasattr(body,</span> <span class="pre">'__len__')</span></tt>) and the headers don't have a
content-length or transfer-encoding, the content-length is set to
the body's length.</p>
<p>If the headers have no content-type, text/plain is used by default.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>body</strong> -- The body of the response.</li>
<li><strong>headers</strong> -- A dict of the headers to include in the response.</li>
<li><strong>code</strong> -- The HTTP response code to give; defaults to 500.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.http.HTTPException.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.http.HTTPException.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>WSGI callable.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPExpectationFailed">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPExpectationFailed</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPExpectationFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPFailedDependency">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPFailedDependency</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPFailedDependency" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPForbidden">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPForbidden</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPForbidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPFound">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPFound</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=302</em><big>)</big><a class="headerlink" href="#brim.http.HTTPFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPGatewayTimeout">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPGatewayTimeout</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPGatewayTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPGone">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPGone</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPGone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPHTTPVersionNotSupported">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPHTTPVersionNotSupported</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPHTTPVersionNotSupported" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPIMUsed">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPIMUsed</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPIMUsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPInformational">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPInformational</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=100</em><big>)</big><a class="headerlink" href="#brim.http.HTTPInformational" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPInsufficientStorage">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPInsufficientStorage</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPInsufficientStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPInternalServerError">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPInternalServerError</tt><a class="headerlink" href="#brim.http.HTTPInternalServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPLengthRequired">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPLengthRequired</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPLengthRequired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPLocked">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPLocked</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPLocked" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPLoopDetected">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPLoopDetected</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPLoopDetected" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPMethodNotAllowed">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPMethodNotAllowed</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPMethodNotAllowed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPMovedPermanently">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPMovedPermanently</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=301</em><big>)</big><a class="headerlink" href="#brim.http.HTTPMovedPermanently" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPMultiStatus">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPMultiStatus</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPMultiStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPMultipleChoices">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPMultipleChoices</tt><a class="headerlink" href="#brim.http.HTTPMultipleChoices" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNoContent">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNoContent</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNoContent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNonAuthoritativeInformation">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNonAuthoritativeInformation</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNonAuthoritativeInformation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNotAcceptable">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNotAcceptable</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNotAcceptable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNotExtended">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNotExtended</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNotExtended" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNotFound">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNotFound</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNotImplemented">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNotImplemented</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNotImplemented" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPNotModified">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPNotModified</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=304</em><big>)</big><a class="headerlink" href="#brim.http.HTTPNotModified" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPOK">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPOK</tt><a class="headerlink" href="#brim.http.HTTPOK" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPOk">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPOk</tt><a class="headerlink" href="#brim.http.HTTPOk" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPPartialContent">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPPartialContent</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPPartialContent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPPaymentRequired">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPPaymentRequired</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPPaymentRequired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPPreconditionFailed">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPPreconditionFailed</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPPreconditionFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPProcessing">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPProcessing</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=102</em><big>)</big><a class="headerlink" href="#brim.http.HTTPProcessing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPInformational" title="brim.http.HTTPInformational"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPInformational</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPProxyAuthenticationRequired">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPProxyAuthenticationRequired</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPProxyAuthenticationRequired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPRedirection">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPRedirection</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=300</em><big>)</big><a class="headerlink" href="#brim.http.HTTPRedirection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPRequestEntityTooLarge">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPRequestEntityTooLarge</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPRequestEntityTooLarge" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPRequestTimeout">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPRequestTimeout</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPRequestTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPRequestURITooLong">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPRequestURITooLong</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPRequestURITooLong" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPRequestedRangeNotSatisfiable">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPRequestedRangeNotSatisfiable</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPRequestedRangeNotSatisfiable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPResetContent">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPResetContent</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPResetContent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPSuccess" title="brim.http.HTTPSuccess"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPSuccess</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.http.HTTPResponse">
<tt class="descclassname">brim.http.</tt><tt class="descname">HTTPResponse</tt><a class="headerlink" href="#brim.http.HTTPResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">HTTPException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPSeeOther">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPSeeOther</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=303</em><big>)</big><a class="headerlink" href="#brim.http.HTTPSeeOther" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPServerError">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPServerError</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=500</em><big>)</big><a class="headerlink" href="#brim.http.HTTPServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPError" title="brim.http.HTTPError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPServiceUnavailable">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPServiceUnavailable</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPServiceUnavailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPSuccess">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPSuccess</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=200</em><big>)</big><a class="headerlink" href="#brim.http.HTTPSuccess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPException" title="brim.http.HTTPException"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPException</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPSwitchingProtocols">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPSwitchingProtocols</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=101</em><big>)</big><a class="headerlink" href="#brim.http.HTTPSwitchingProtocols" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPInformational" title="brim.http.HTTPInformational"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPInformational</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPTemporaryRedirect">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPTemporaryRedirect</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=307</em><big>)</big><a class="headerlink" href="#brim.http.HTTPTemporaryRedirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPUnauthorized">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPUnauthorized</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPUnauthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPUnprocessableEntity">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPUnprocessableEntity</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPUnprocessableEntity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPUnsupportedMediaType">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPUnsupportedMediaType</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPUnsupportedMediaType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPUpgradeRequired">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPUpgradeRequired</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPUpgradeRequired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPClientError" title="brim.http.HTTPClientError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPClientError</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPUseProxy">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPUseProxy</tt><big>(</big><em>body=None</em>, <em>headers=None</em>, <em>code=305</em><big>)</big><a class="headerlink" href="#brim.http.HTTPUseProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPRedirection" title="brim.http.HTTPRedirection"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPRedirection</span></tt></a></p>
</dd></dl>

<dl class="exception">
<dt id="brim.http.HTTPVariantAlsoNegotiates">
<em class="property">exception </em><tt class="descclassname">brim.http.</tt><tt class="descname">HTTPVariantAlsoNegotiates</tt><big>(</big><em>body=None</em>, <em>headers=None</em><big>)</big><a class="headerlink" href="#brim.http.HTTPVariantAlsoNegotiates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.http.HTTPServerError" title="brim.http.HTTPServerError"><tt class="xref py py-class docutils literal"><span class="pre">brim.http.HTTPServerError</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="brim.http.QueryParser">
<em class="property">class </em><tt class="descclassname">brim.http.</tt><tt class="descname">QueryParser</tt><big>(</big><em>query_string=None</em><big>)</big><a class="headerlink" href="#brim.http.QueryParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Provides convenient retrieval methods for query parameter values.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>query_string</strong> -- The HTTP query string, such as in WSGI's
<tt class="docutils literal"><span class="pre">env['QUERY_STRING']</span></tt>. If using something other than WSGI's
QUERY_STRING, be sure to <strong>not</strong> include the question mark that
separates the path?query string as it would be translated as the
first character of the first parameter.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.http.QueryParser.get">
<tt class="descname">get</tt><big>(</big><em>name</em>, <em>default=None</em>, <em>last_only=True</em><big>)</big><a class="headerlink" href="#brim.http.QueryParser.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the query parameter.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the query parameter to retrieve.</li>
<li><strong>default</strong> -- The default value if the parameter does not
exist. If default is None, the parameter is considered
required and <a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is raised if the
parameter is missing.</li>
<li><strong>last_only</strong> -- If True (the default), only the last value of
the parameter is returned if the parameter is specified
multiple times. If False, all values are returned in a list
(even if there is only one value).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="brim.http.QueryParser.get_bool">
<tt class="descname">get_bool</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.QueryParser.get_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the boolean value of the query parameter.</p>
<p>The parameter value is checked against known
<a class="reference internal" href="#brim.conf.TRUE_VALUES" title="brim.conf.TRUE_VALUES"><tt class="xref py py-data docutils literal"><span class="pre">brim.conf.TRUE_VALUES</span></tt></a> and
<a class="reference internal" href="#brim.conf.FALSE_VALUES" title="brim.conf.FALSE_VALUES"><tt class="xref py py-data docutils literal"><span class="pre">brim.conf.FALSE_VALUES</span></tt></a> for translation and raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> if the value cannot be translated.</p>
<p>If the parameter is included in the query string but has no
value then the value of <tt class="docutils literal"><span class="pre">not</span> <span class="pre">default</span></tt> is returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the query parameter to retrieve.</li>
<li><strong>default</strong> -- The default value if the parameter does not
exist. If default is None, the parameter is considered
required and <a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is raised if the
parameter is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="brim.http.QueryParser.get_float">
<tt class="descname">get_float</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.QueryParser.get_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the float value of the query parameter.</p>
<p>If the value cannot be translated to a float, raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the query parameter to retrieve.</li>
<li><strong>default</strong> -- The default value if the parameter does not
exist or has no value. If default is None, the parameter is
be considered required and <a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is
raised if the parameter is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="brim.http.QueryParser.get_int">
<tt class="descname">get_int</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.QueryParser.get_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the int value of the query parameter.</p>
<p>If the value cannot be translated to an int, raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the query parameter to retrieve.</li>
<li><strong>default</strong> -- The default value if the parameter does not
exist or has no value. If default is None, the parameter is
be considered required and <a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is
raised if the parameter is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="brim.http.get_header">
<tt class="descclassname">brim.http.</tt><tt class="descname">get_header</tt><big>(</big><em>env</em>, <em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.get_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of an HTTP header.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> -- The standard WSGI env to read from.</li>
<li><strong>name</strong> -- The name of the header to retrieve.</li>
<li><strong>default</strong> -- If specified, the default value if the header cannot
be found. If default is None, the header value is considered
required and <a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is raised if the header
is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.http.get_header_bool">
<tt class="descclassname">brim.http.</tt><tt class="descname">get_header_bool</tt><big>(</big><em>env</em>, <em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.get_header_bool" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the boolean value of an HTTP header.</p>
<p>The header value is checked against known
<a class="reference internal" href="#brim.conf.TRUE_VALUES" title="brim.conf.TRUE_VALUES"><tt class="xref py py-data docutils literal"><span class="pre">brim.conf.TRUE_VALUES</span></tt></a> and
<a class="reference internal" href="#brim.conf.FALSE_VALUES" title="brim.conf.FALSE_VALUES"><tt class="xref py py-data docutils literal"><span class="pre">brim.conf.FALSE_VALUES</span></tt></a> for translation and raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> if the value cannot be translated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> -- The standard WSGI env to read from.</li>
<li><strong>name</strong> -- The name of the header to retrieve.</li>
<li><strong>default</strong> -- If specified, the default value if the header cannot
be found. If default is None, the header value is considered
required and HTTPBadRequest is raised if the header is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.http.get_header_float">
<tt class="descclassname">brim.http.</tt><tt class="descname">get_header_float</tt><big>(</big><em>env</em>, <em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.get_header_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the float value of an HTTP header.</p>
<p>If the value cannot be translated to a float, raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> -- The standard WSGI env to read from.</li>
<li><strong>name</strong> -- The name of the header to retrieve.</li>
<li><strong>default</strong> -- If specified, the default value if the header cannot
be found. If default is None, the header value is considered
required and HTTPBadRequest is raised if the header is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.http.get_header_int">
<tt class="descclassname">brim.http.</tt><tt class="descname">get_header_int</tt><big>(</big><em>env</em>, <em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#brim.http.get_header_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the int value of an HTTP header.</p>
<p>If the value cannot be translated to an int, raises
<a class="reference internal" href="#brim.http.HTTPBadRequest" title="brim.http.HTTPBadRequest"><tt class="xref py py-class docutils literal"><span class="pre">HTTPBadRequest</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>env</strong> -- The standard WSGI env to read from.</li>
<li><strong>name</strong> -- The name of the header to retrieve.</li>
<li><strong>default</strong> -- If specified, the default value if the header cannot
be found. If default is None, the header value is considered
required and HTTPBadRequest is raised if the header is missing.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.http.quote">
<tt class="descclassname">brim.http.</tt><tt class="descname">quote</tt><big>(</big><em>value</em>, <em>safe='/'</em><big>)</big><a class="headerlink" href="#brim.http.quote" title="Permalink to this definition">¶</a></dt>
<dd><p>Patched version of urllib.quote that UTF8 encodes unicode.</p>
</dd></dl>

</div>
<div class="section" id="module-brim.httpform">
<span id="brim-httpform"></span><h2>brim.httpform<a class="headerlink" href="#module-brim.httpform" title="Permalink to this headline">¶</a></h2>
<p>Module for working with HTTP Form POSTs iteratively.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an early version of this module. It has no tests, limited
documentation, and is subject to major changes.</p>
</div>
<p>Provides tools for parsing an HTTP Form POST without reading the whole
thing into memory first. Many thanks to Michael Barton for the original
prototype which I mangled into OpenStack Swift's formpost middleware and
then into this module.</p>
<p>The basic usage is to iterate over iter_form results, which are
rfc822.Message instances:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">brim.httpform</span> <span class="kn">import</span> <span class="n">iter_form</span><span class="p">,</span> <span class="n">parse_attrs</span>

<span class="k">def</span> <span class="nf">wsgi_app</span><span class="p">(</span><span class="n">env</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">iter_form</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
        <span class="n">body</span> <span class="o">=</span> <span class="n">message</span><span class="o">.</span><span class="n">fp</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">value</span><span class="p">,</span> <span class="n">attrs</span> <span class="o">=</span> \
            <span class="n">parse_attrs</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="s">&#39;content-disposition&#39;</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">value</span> <span class="o">!=</span> <span class="s">&#39;form-data&#39;</span><span class="p">:</span>
            <span class="k">continue</span>
        <span class="k">if</span> <span class="s">&#39;filename&#39;</span> <span class="ow">in</span> <span class="n">attrs</span><span class="p">:</span>
            <span class="n">filevarname</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">filename</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s">&#39;filename&#39;</span><span class="p">]</span>
            <span class="n">filecontent</span> <span class="o">=</span> <span class="n">body</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">varname</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">[</span><span class="s">&#39;name&#39;</span><span class="p">]</span>
            <span class="n">varvalue</span> <span class="o">=</span> <span class="n">body</span>
</pre></div>
</div>
<p>See also the simple test at the end of the source file.</p>
<dl class="class">
<dt id="brim.httpform.CappedFileLikeObject">
<em class="property">class </em><tt class="descclassname">brim.httpform.</tt><tt class="descname">CappedFileLikeObject</tt><big>(</big><em>fp</em>, <em>max_file_size</em><big>)</big><a class="headerlink" href="#brim.httpform.CappedFileLikeObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Reads a limited amount from a file-like object.</p>
<p>A file-like object wrapping another file-like object that raises an
EOFError if the amount of data read exceeds a given max_file_size.</p>
<p>This is useful to cap the form data size accepted:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">message</span> <span class="ow">in</span> <span class="n">iter_form</span><span class="p">(</span><span class="n">env</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">CappedFileLikeObject</span><span class="p">(</span><span class="n">message</span><span class="o">.</span><span class="n">fp</span><span class="p">,</span> <span class="mi">4096</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="k">except</span> <span class="ne">EOFError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">HTTPRequestEntityTooLarge</span><span class="p">(</span>
            <span class="s">&#39;Max form part size is 4096.</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="brim.httpform.CappedFileLikeObject.read">
<tt class="descname">read</tt><big>(</big><em>size=None</em><big>)</big><a class="headerlink" href="#brim.httpform.CappedFileLikeObject.read" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="brim.httpform.CappedFileLikeObject.readline">
<tt class="descname">readline</tt><big>(</big><big>)</big><a class="headerlink" href="#brim.httpform.CappedFileLikeObject.readline" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="brim.httpform.FormInvalid">
<em class="property">exception </em><tt class="descclassname">brim.httpform.</tt><tt class="descname">FormInvalid</tt><a class="headerlink" href="#brim.httpform.FormInvalid" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
</dd></dl>

<dl class="function">
<dt id="brim.httpform.iter_form">
<tt class="descclassname">brim.httpform.</tt><tt class="descname">iter_form</tt><big>(</big><em>env</em>, <em>read_chunk_size=4096</em><big>)</big><a class="headerlink" href="#brim.httpform.iter_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Yields messages for an HTTP Form POST.</p>
<p>Parses an HTTP Form POST and yields rfc822.Message instances for
each form part. See the overview module <a class="reference internal" href="#module-brim.httpform" title="brim.httpform"><tt class="xref py py-mod docutils literal"><span class="pre">brim.httpform</span></tt></a>
for usage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI environment for the incoming request.</li>
<li><strong>read_chunk_size</strong> -- The maximum amount to read at once from the
incoming request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A generator yielding rfc822.Messages; be sure to fully
read from the message.fp file-like object before continuing to
the next message of the generator.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.httpform.parse_attrs">
<tt class="descclassname">brim.httpform.</tt><tt class="descname">parse_attrs</tt><big>(</big><em>header</em><big>)</big><a class="headerlink" href="#brim.httpform.parse_attrs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns (value, attr_dict) for an HTTP attr header.</p>
<p>Given a header like:</p>
<div class="highlight-python"><pre>Content-Disposition: form-data; name="abc"; filename="test.html"</pre>
</div>
<p>Returns:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span><span class="s">&quot;form-data&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s">&quot;name&quot;</span><span class="p">:</span> <span class="s">&quot;abc&quot;</span><span class="p">,</span> <span class="s">&quot;filename&quot;</span><span class="p">:</span> <span class="s">&quot;test.html&quot;</span><span class="p">})</span>
</pre></div>
</div>
<p>Example usage with an rfc822.Message:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">value</span><span class="p">,</span> <span class="n">attrs</span> <span class="o">=</span> <span class="n">parse_attrs</span><span class="p">(</span>
    <span class="n">message</span><span class="o">.</span><span class="n">getheader</span><span class="p">(</span><span class="s">&#39;content-disposition&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-brim.log">
<span id="brim-log"></span><h2>brim.log<a class="headerlink" href="#module-brim.log" title="Permalink to this headline">¶</a></h2>
<p>Provides logging utilities for brimd.</p>
<p>Normally you don't need to use this module directly as the active logger
itself is passed via the WSGI <tt class="docutils literal"><span class="pre">env['brim.logger']</span></tt> value.</p>
<dl class="function">
<dt id="brim.log.get_logger">
<tt class="descclassname">brim.log.</tt><tt class="descname">get_logger</tt><big>(</big><em>route</em>, <em>name</em>, <em>level</em>, <em>facility</em>, <em>console</em><big>)</big><a class="headerlink" href="#brim.log.get_logger" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Logger based on the information given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>route</strong> -- The str log route, which is often the same as the name
but does not have to be. Think of this as the key for the logger
in source code.</li>
<li><strong>name</strong> -- The str log name, this is the name sent to the
underlying log system. Think of this as the display name for the
logger.</li>
<li><strong>level</strong> -- The str log level for which any records at or above
the level will be sent to the underlying log system. Any records
below the level will be discarded.</li>
<li><strong>facility</strong> -- If the underlying log system supports it, such as
syslog, this str facility value can help direct the system where
to store the records.</li>
<li><strong>console</strong> -- If set True, the underlying log system will simply
be to sys.stdout. This can be useful for debugging. Normally
you'll want to set this False so the log records are sent to
syslog.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="brim.log.NOTICE">
<tt class="descclassname">brim.log.</tt><tt class="descname">NOTICE</tt><em class="property"> = 25</em><a class="headerlink" href="#brim.log.NOTICE" title="Permalink to this definition">¶</a></dt>
<dd><p>An additional log level patched into the standard logging levels.</p>
<p>This level is to be used for logging HTTP requests only so that it can
be easily filtered on to form access logs.</p>
</dd></dl>

<dl class="function">
<dt id="brim.log.sysloggable_excinfo">
<tt class="descclassname">brim.log.</tt><tt class="descname">sysloggable_excinfo</tt><big>(</big><em>*excinfo</em><big>)</big><a class="headerlink" href="#brim.log.sysloggable_excinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns exception information as a string for syslog.</p>
<p>The returned string will have no newlines, the exception type and
message first in case the line is truncated, and anything else
deemed to make it nicer for delivery to syslog.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>excinfo</strong> -- The exception info (exctype, value, traceback) such
as returned with sys.exc_info.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-brim.server">
<span id="brim-server"></span><h2>brim.server<a class="headerlink" href="#module-brim.server" title="Permalink to this headline">¶</a></h2>
<p>The main module that implements the Brim.Net Core Server.</p>
<p>Normally you don't directly use this module but instead configure and
run brimd.</p>
<p>See <a class="reference internal" href="brimdconfsample.html#brimdconfsample"><em>brimd.conf-sample</em></a> for configuration
options.</p>
<dl class="data">
<dt id="brim.server.DEFAULT_CONF_FILES">
<tt class="descclassname">brim.server.</tt><tt class="descname">DEFAULT_CONF_FILES</tt><em class="property"> = ['/etc/brimd.conf', '~/.brimd.conf']</em><a class="headerlink" href="#brim.server.DEFAULT_CONF_FILES" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of default conf files to use when none are specified.</p>
</dd></dl>

<dl class="class">
<dt id="brim.server.DaemonsSubserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">DaemonsSubserver</tt><big>(</big><em>server</em>, <em>name='daemons'</em><big>)</big><a class="headerlink" href="#brim.server.DaemonsSubserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a></p>
<p>Subserver for daemons.</p>
<p>Created for a [daemons] config section to hold the attributes
specific to that subconfig.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="brim.server.HTTP_CLIENT_DISCONNECT">
<tt class="descclassname">brim.server.</tt><tt class="descname">HTTP_CLIENT_DISCONNECT</tt><em class="property"> = 499</em><a class="headerlink" href="#brim.server.HTTP_CLIENT_DISCONNECT" title="Permalink to this definition">¶</a></dt>
<dd><p>The status code for requests terminated early by the client (499).</p>
</dd></dl>

<dl class="class">
<dt id="brim.server.IPSubserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">IPSubserver</tt><big>(</big><em>server</em>, <em>name</em><big>)</big><a class="headerlink" href="#brim.server.IPSubserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a></p>
<p>Base class for &quot;raw&quot; IP based subservers.</p>
<p>Created for each [wsgi], [wsgi2], etc., [tcp], [tcp2], etc. [udp],
[udp2], etc. config section to hold the attributes specific to that
subconfig.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</li>
<li><strong>name</strong> -- The name of the subserver ('wsgi', 'tcp', 'udp', etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="data">
<dt id="brim.server.PID_WAIT_TIME">
<tt class="descclassname">brim.server.</tt><tt class="descname">PID_WAIT_TIME</tt><em class="property"> = 15</em><a class="headerlink" href="#brim.server.PID_WAIT_TIME" title="Permalink to this definition">¶</a></dt>
<dd><p>The seconds to wait for a PID to disappear after signaling.</p>
</dd></dl>

<dl class="class">
<dt id="brim.server.Server">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">Server</tt><big>(</big><em>args=None</em>, <em>stdin=None</em>, <em>stdout=None</em>, <em>stderr=None</em><big>)</big><a class="headerlink" href="#brim.server.Server" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>The main entry point for the Brim.Net Core Server, brimd.</p>
<p>Few daemons or apps need to access this directly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> -- Command line arguments for the server, without the
process name. Defaults to sys.argv[1:]</li>
<li><strong>stdin</strong> -- The file-like object to treat as standard input.
Defaults to sys.stdin.</li>
<li><strong>stdout</strong> -- The file-like object to treat as standard output.
Defaults to sys.stdout.</li>
<li><strong>stderr</strong> -- The file-like object to treat as standard error.
Defaults to sys.stderr.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.server.Server.main">
<tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#brim.server.Server.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the brimd actions (start, stop, shutdown, etc.).</p>
<p>The action is determined by the command line arguments given in
the constructor. Usage can be read from <tt class="docutils literal"><span class="pre">brimd</span> <span class="pre">--help</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An integer exit code suitable for returning with
sys.exit.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="brim.server.Subserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">Subserver</tt><big>(</big><em>server</em>, <em>name</em><big>)</big><a class="headerlink" href="#brim.server.Subserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Base class for brimd subservers (wsgi, tcp, udp, daemons).</p>
<p>Created for each [wsgi], [wsgi2], etc., [tcp], [tcp2], etc. [udp],
[udp2], etc., and [daemons] config section to hold the attributes
specific to that subconfig.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</li>
<li><strong>name</strong> -- The name of the subserver ('wsgi', 'tcp', 'udp',
'daemons', etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="brim.server.Subserver.json_dumps">
<tt class="descname">json_dumps</tt><em class="property"> = None</em><a class="headerlink" href="#brim.server.Subserver.json_dumps" title="Permalink to this definition">¶</a></dt>
<dd><p>The json.dumps compatible function configured.</p>
<p>WSGI apps can also access this via <tt class="docutils literal"><span class="pre">env['brim.json_dumps']</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.server.Subserver.json_loads">
<tt class="descname">json_loads</tt><em class="property"> = None</em><a class="headerlink" href="#brim.server.Subserver.json_loads" title="Permalink to this definition">¶</a></dt>
<dd><p>The json.loads compatible function configured.</p>
<p>WSGI apps can also access this via <tt class="docutils literal"><span class="pre">env['brim.json_loads']</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.server.Subserver.logger">
<tt class="descname">logger</tt><em class="property"> = None</em><a class="headerlink" href="#brim.server.Subserver.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>The logger in use by this subserver.</p>
<p>WSGI apps can also access this via <tt class="docutils literal"><span class="pre">env['brim.logger']</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.server.Subserver.server">
<tt class="descname">server</tt><em class="property"> = None</em><a class="headerlink" href="#brim.server.Subserver.server" title="Permalink to this definition">¶</a></dt>
<dd><p>The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a> of this subserver.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="brim.server.TCPSubserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">TCPSubserver</tt><big>(</big><em>server</em>, <em>name</em><big>)</big><a class="headerlink" href="#brim.server.TCPSubserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.server.IPSubserver" title="brim.server.IPSubserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.IPSubserver</span></tt></a></p>
<p>Subserver for TCP.</p>
<p>Created for each [tcp], [tcp2], [tcp3] config section to hold the
attributes specific to that subconfig.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</li>
<li><strong>name</strong> -- The name of the subserver ('tcp', 'tcp2', 'tcp3', etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="brim.server.UDPSubserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">UDPSubserver</tt><big>(</big><em>server</em>, <em>name</em><big>)</big><a class="headerlink" href="#brim.server.UDPSubserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.server.IPSubserver" title="brim.server.IPSubserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.IPSubserver</span></tt></a></p>
<p>Subserver for UDP.</p>
<p>Created for each [udp], [udp2], [udp3] config section to hold the
attributes specific to that subconfig.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</li>
<li><strong>name</strong> -- The name of the subserver ('udp', 'udp2', 'udp3', etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="brim.server.WSGISubserver">
<em class="property">class </em><tt class="descclassname">brim.server.</tt><tt class="descname">WSGISubserver</tt><big>(</big><em>server</em>, <em>name</em><big>)</big><a class="headerlink" href="#brim.server.WSGISubserver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#brim.server.IPSubserver" title="brim.server.IPSubserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.IPSubserver</span></tt></a></p>
<p>Subserver for WSGI.</p>
<p>Created for each [wsgi], [wsgi2], [wsgi3] config section to hold the
attributes specific to that subconfig. Few WSGI apps need to access
this directly, but some like <a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">brim.wsgi_stats.WSGIStats</span></tt></a>
do. From a WSGI app, you can gain access to the handling
WSGISubserver through <tt class="docutils literal"><span class="pre">env['brim']</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>server</strong> -- The parent <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a>.</li>
<li><strong>name</strong> -- The name of the subserver ('wsgi', 'wsgi2', 'wsgi3',
etc.)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.server.WSGISubserver.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.server.WSGISubserver.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Default WSGI application that responds with 404 Not Found.</p>
</dd></dl>

<dl class="method">
<dt id="brim.server.WSGISubserver.clone_env">
<tt class="descname">clone_env</tt><big>(</big><em>env</em><big>)</big><a class="headerlink" href="#brim.server.WSGISubserver.clone_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new WSGI environment dictionary.</p>
<p>This can be useful when wanting to issue an additional request
through get_response. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">...</span>
<span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">newenv</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;brim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clone_env</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;REQUEST_METHOD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;HEAD&#39;</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;PATH_INFO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;/new/path&#39;</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;wsgi.input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
    <span class="n">status_line</span><span class="p">,</span> <span class="n">headers_iteritems</span><span class="p">,</span> <span class="n">excinfo</span><span class="p">,</span> <span class="n">content_iter</span> <span class="o">=</span> \
        <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;brim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">newenv</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>The values copied are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>brim</td>
<td>The <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">Subserver</span></tt></a> handling the
request.</td>
</tr>
<tr class="row-even"><td>brim.json_dumps</td>
<td>The json.dumps compatible function
configured.</td>
</tr>
<tr class="row-odd"><td>brim.json_loads</td>
<td>The json.loads compatible function
configured.</td>
</tr>
<tr class="row-even"><td>brim.logger</td>
<td>The logger configured.</td>
</tr>
<tr class="row-odd"><td>brim.stats</td>
<td>The stats object for tracking worker stats.
See the <a class="reference internal" href="index.html#overview"><em>overall package documentation</em></a> for more information.</td>
</tr>
<tr class="row-even"><td>brim.txn</td>
<td>The transaction id for the request. You
should generally not change this as keeping
the same txn for the main request and all
its subrequests is useful when debugging.</td>
</tr>
<tr class="row-odd"><td>SERVER_NAME</td>
<td>Standard WSGI value.</td>
</tr>
<tr class="row-even"><td>SERVER_PORT</td>
<td>Standard WSGI value.</td>
</tr>
<tr class="row-odd"><td>SERVER_PROTOCOL</td>
<td>Standard WSGI value.</td>
</tr>
</tbody>
</table>
<p>Additional values created are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HTTP_REFERER</td>
<td>This is set to the REQUEST_PATH from the
original env.</td>
</tr>
<tr class="row-even"><td>HTTP_USER_AGENT</td>
<td>This is set to <tt class="docutils literal"><span class="pre">'clone_env'</span></tt>. It is
recommended to change this to something
referring to your application for easier
debugging later.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="brim.server.WSGISubserver.get_response">
<tt class="descname">get_response</tt><big>(</big><em>env</em>, <em>next_app=None</em><big>)</big><a class="headerlink" href="#brim.server.WSGISubserver.get_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a WSGI request.</p>
<p>This is useful for WSGI apps that wish to perform subrequests.
For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">...</span>
<span class="k">def</span> <span class="nf">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">env</span><span class="p">,</span> <span class="n">start_response</span><span class="p">):</span>
    <span class="n">newenv</span> <span class="o">=</span> <span class="n">env</span><span class="p">[</span><span class="s">&#39;brim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">clone_env</span><span class="p">(</span><span class="n">env</span><span class="p">)</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;REQUEST_METHOD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;HEAD&#39;</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;PATH_INFO&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;/new/path&#39;</span>
    <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;wsgi.input&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">StringIO</span><span class="p">()</span>
    <span class="n">status_line</span><span class="p">,</span> <span class="n">headers_iteritems</span><span class="p">,</span> <span class="n">excinfo</span><span class="p">,</span> <span class="n">content_iter</span> <span class="o">=</span> \
        <span class="n">newenv</span><span class="p">[</span><span class="s">&#39;brim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">get_response</span><span class="p">(</span><span class="n">newenv</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>By default, the request goes to the front of the configured WSGI
pipeline; however, you can also specify a different WSGI
pipeline to travel through with the next_app arg. For example,
auth middleware might want its subrequests to only travel from
the next app in its pipeline onward.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI environment of the request.</li>
<li><strong>next_app</strong> -- Optional; indicates the next WSGI app to send
the request through rather than the entire WSGI pipeline.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The response as (status_line, headers_iteritems,
excinfo, content_iter).</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="brim.server.main">
<tt class="descclassname">brim.server.</tt><tt class="descname">main</tt><big>(</big><big>)</big><a class="headerlink" href="#brim.server.main" title="Permalink to this definition">¶</a></dt>
<dd><p>brimd script entry point.</p>
</dd></dl>

</div>
<div class="section" id="module-brim.service">
<span id="brim-service"></span><h2>brim.service<a class="headerlink" href="#module-brim.service" title="Permalink to this headline">¶</a></h2>
<p>Provides functions useful for background services.</p>
<dl class="function">
<dt id="brim.service.capture_exceptions_stdout_stderr">
<tt class="descclassname">brim.service.</tt><tt class="descname">capture_exceptions_stdout_stderr</tt><big>(</big><em>exceptions=None</em>, <em>stdout_func=None</em>, <em>stderr_func=None</em><big>)</big><a class="headerlink" href="#brim.service.capture_exceptions_stdout_stderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Captures uncaught exceptions and redirects them.</p>
<p>This will redirect uncaught exceptions and redirect them to the
<em>exceptions</em> function and captures standard output and error and
redirects that data to the <em>stdout_func</em> and <em>stderr_func</em>
functions. The original standard output and error files will be
closed so that no output can come from your program to these
streams. This is useful when writing background daemons that often
have no connected console.</p>
<p>The <em>exceptions</em> function will be called with (exctype, value,
traceback).</p>
<p>The <em>stdout_func</em> and <em>stderr_func</em> functions will be called with
(str).</p>
</dd></dl>

<dl class="function">
<dt id="brim.service.droppriv">
<tt class="descclassname">brim.service.</tt><tt class="descname">droppriv</tt><big>(</big><em>user</em>, <em>group=None</em>, <em>umask=18</em><big>)</big><a class="headerlink" href="#brim.service.droppriv" title="Permalink to this definition">¶</a></dt>
<dd><p>Drops the privileges of the running process.</p>
<p>Drops privileges to the user, group, and umask given, changes the
process to session leader, and changes working directories to /. If
a group is not given, the user's default group will be used. Will
raise an Exception with an explanatory message if the user or group
cannot be found or if permission is denied while attempting the
switch.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>user</strong> -- The user to switch to.</li>
<li><strong>group</strong> -- The group to switch to; defaults to the default group
of the user.</li>
<li><strong>umask</strong> -- The umask to set; defaults 0022.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.service.get_listening_tcp_socket">
<tt class="descclassname">brim.service.</tt><tt class="descname">get_listening_tcp_socket</tt><big>(</big><em>ip</em>, <em>port</em>, <em>backlog=4096</em>, <em>retry=30</em>, <em>certfile=None</em>, <em>keyfile=None</em>, <em>style=None</em><big>)</big><a class="headerlink" href="#brim.service.get_listening_tcp_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a bound socket.socket for accepting TCP connections.</p>
<p>The socket will be bound to the given ip and tcp port with other
optional parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ip</strong> -- The ip address to listen on. <tt class="docutils literal"><span class="pre">''</span></tt> and <tt class="docutils literal"><span class="pre">'*'</span></tt> are
translated to <tt class="docutils literal"><span class="pre">'0.0.0.0'</span></tt> which will listen on all configured
addresses.</li>
<li><strong>port</strong> -- The tcp port to listen on.</li>
<li><strong>backlog</strong> -- The amount of system queued connections allowed.</li>
<li><strong>retry</strong> -- The number seconds to keep trying to bind the socket,
in case there's another process bound but exiting soon. This
allows near zero-downtime process handoffs as you start the new
one and kill the old.</li>
<li><strong>certfile</strong> -- The certificate file if you wish the socket to be
ssl wrapped (see ssl.wrap_socket).</li>
<li><strong>keyfile</strong> -- The key file if you wish the socket to be ssl
wrapped (see ssl.wrap_socket).</li>
<li><strong>style</strong> -- The libraries you'd like to use in creating the
socket. The default will use the standard Python libraries.
<tt class="docutils literal"><span class="pre">'eventlet'</span></tt> is recognized and will use the Eventlet
libraries. Other styles may added in the future.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.service.get_listening_udp_socket">
<tt class="descclassname">brim.service.</tt><tt class="descname">get_listening_udp_socket</tt><big>(</big><em>ip</em>, <em>port</em>, <em>retry=30</em>, <em>style=None</em><big>)</big><a class="headerlink" href="#brim.service.get_listening_udp_socket" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a bound socket.socket for accepting UDP datagrams.</p>
<p>The socket will be bound to the given ip and tcp port with other
optional parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>ip</strong> -- The ip address to listen on. <tt class="docutils literal"><span class="pre">''</span></tt> and <tt class="docutils literal"><span class="pre">'*'</span></tt> are
translated to <tt class="docutils literal"><span class="pre">'0.0.0.0'</span></tt> which will listen on all configured
addresses.</li>
<li><strong>port</strong> -- The udp port to listen on.</li>
<li><strong>retry</strong> -- The number seconds to keep trying to bind the socket,
in case there's another process bound but exiting soon. This
allows near zero-downtime process handoffs as you start the new
one and kill the old.</li>
<li><strong>style</strong> -- The libraries you'd like to use in creating the
socket. The default will use the standard Python libraries.
<tt class="docutils literal"><span class="pre">'Eventlet'</span></tt> is recognized and will use the Eventlet
libraries. Other styles may added in the future.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.service.signum2str">
<tt class="descclassname">brim.service.</tt><tt class="descname">signum2str</tt><big>(</big><em>signum</em><big>)</big><a class="headerlink" href="#brim.service.signum2str" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates a signal number to a str.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">signum2str</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">SIGHUP</span>
</pre></div>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>signum</strong> -- The signal number to convert.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A str representing the signal.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.service.sustain_workers">
<tt class="descclassname">brim.service.</tt><tt class="descname">sustain_workers</tt><big>(</big><em>workers_desired</em>, <em>worker_func</em>, <em>logger=None</em><big>)</big><a class="headerlink" href="#brim.service.sustain_workers" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts and maintains a set of subprocesses.</p>
<p>For each worker started, it will run the <em>worker_func</em>. If a
subprocess exits without being requested to, it will be restarted
and the <em>worker_func</em> called again.</p>
<p><em>sustain_workers</em> will not return until signaled to do so with
SIGHUP or SIGTERM to the main process. These signals will be relayed
to the subprocesses as well.</p>
<p>SIGHUP generally means the processes should exit as gracefully as
possible. For instance, a web server might exit after it completes
any requests already in progress.</p>
<p>SIGTERM generally means the processes should exit immediately,
canceling anything they may have been doing at the time.</p>
<p>If <em>workers_desired</em> is 0, a special &quot;inproc&quot; mode will be activated
where just the <em>worker_func</em> will be called and then
<em>sustain_workers</em> will return. This can be useful for debugging.</p>
<p>See the source of <a class="reference internal" href="#brim.server.Server" title="brim.server.Server"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Server</span></tt></a> for a good example
of how to use <em>sustain_workers</em>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>workers_desired</strong> -- The number of subprocesses desired to be
maintained. If 0, no subprocesses will be made and <em>worker_func</em>
will simply be called and then <em>sustain_workers</em> will return.</li>
<li><strong>worker_func</strong> -- The function to be called by each subprocess
once it starts. <em>worker_func</em> should not return except on
catastrophic error or when signaled to do so. If <em>worker_func</em>
exits without being signaled, another subprocess will be started
and the function called again.</li>
<li><strong>logger</strong> -- If set, debug information will be sent to this
logging.Logger instance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-brim.tcp_echo">
<span id="brim-tcp-echo"></span><h2>brim.tcp_echo<a class="headerlink" href="#module-brim.tcp_echo" title="Permalink to this headline">¶</a></h2>
<p>Contains a simple straight TCP socket application.</p>
<p>The application just echoes any incoming data back. This is a good
starting point for other TCP applications. See the source for what's
implemented and why.</p>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">tcp_echo</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">tcp_echo</span><span class="o">.</span><span class="n">TCPEcho</span>
<span class="c"># chunk_read = &lt;bytes&gt;</span>
<span class="c">#   The maximum number of bytes to read before echoing it</span>
<span class="c">#   back. Default: 65536</span>
</pre></div>
</div>
<p>Standard configuration options for all TCP apps are also supported. See
<a class="reference internal" href="brimdconfsample.html#brimdconfsample"><em>brimd.conf-sample</em></a> for more information.</p>
<p>Stats Variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="9%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>byte_count</td>
<td>sum</td>
<td>Number of bytes read from clients.</td>
</tr>
<tr class="row-odd"><td>connection_count</td>
<td>sum</td>
<td>The number of connections made to this app.</td>
</tr>
<tr class="row-even"><td>start_time</td>
<td>worker</td>
<td>Timestamp when the app was started. If the
app had to be restarted, this timestamp will
be updated with the new start time. This
item is available with all apps and set by
the controlling
<a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a>.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="brim.tcp_echo.TCPEcho">
<em class="property">class </em><tt class="descclassname">brim.tcp_echo.</tt><tt class="descname">TCPEcho</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.tcp_echo.TCPEcho" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A simple straight TCP socket application.</p>
<p>The application just echoes any incoming data back. This is a good
starting point for other TCP applications. See the source for what's
implemented and why.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.tcp_echo.TCPEcho.parse_conf" title="brim.tcp_echo.TCPEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.tcp_echo.TCPEcho.__call__">
<tt class="descname">__call__</tt><big>(</big><em>subserver</em>, <em>stats</em>, <em>sock</em>, <em>ip</em>, <em>port</em><big>)</big><a class="headerlink" href="#brim.tcp_echo.TCPEcho.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply echo the incoming data back.</p>
<p>This is the main entry point to the daemon. The brimd subserver
will spawn a subprocess, listen on a TCP endpoint, create an
instance of this app, and then call this method for each
incoming connection. If the app raises an Exception, a new
instance of the app will be created and handed future
connections.</p>
<p>The stats object will have at least the stat variables asked for
in <a class="reference internal" href="#brim.tcp_echo.TCPEcho.stats_conf" title="brim.tcp_echo.TCPEcho.stats_conf"><tt class="xref py py-meth docutils literal"><span class="pre">stats_conf()</span></tt></a>. This stats object will support at
least the following methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>get(name)</td>
<td>Returns the int value of the stat named.</td>
</tr>
<tr class="row-even"><td>set(name, value)</td>
<td>Sets the value of the stat named. The value
will be treated as an unsigned integer.</td>
</tr>
<tr class="row-odd"><td>incr(name)</td>
<td>Increments the value of the stat named by 1.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>subserver</strong> -- The <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a> that is
managing this app.</li>
<li><strong>stats</strong> -- The shared memory statistics object as defined
above.</li>
<li><strong>sock</strong> -- The just connected socket.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.tcp_echo.TCPEcho.chunk_read">
<tt class="descname">chunk_read</tt><em class="property"> = None</em><a class="headerlink" href="#brim.tcp_echo.TCPEcho.chunk_read" title="Permalink to this definition">¶</a></dt>
<dd><p>The most to read from the client at once.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.tcp_echo.TCPEcho.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.tcp_echo.TCPEcho.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.tcp_echo.TCPEcho.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.tcp_echo.TCPEcho.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into a daemon-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.tcp_echo.TCPEcho" title="brim.tcp_echo.TCPEcho"><tt class="xref py py-class docutils literal"><span class="pre">TCPEcho</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.tcp_echo" title="brim.tcp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.tcp_echo</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.tcp_echo.TCPEcho" title="brim.tcp_echo.TCPEcho"><tt class="xref py py-class docutils literal"><span class="pre">TCPEcho</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="brim.tcp_echo.TCPEcho.stats_conf">
<em class="property">classmethod </em><tt class="descname">stats_conf</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.tcp_echo.TCPEcho.stats_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (stat_name, stat_type) pairs.</p>
<p>These pairs specify the stat variables this app wants
established in the <tt class="docutils literal"><span class="pre">stats</span></tt> instance passed to
<a class="reference internal" href="#brim.tcp_echo.TCPEcho.__call__" title="brim.tcp_echo.TCPEcho.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a>.</p>
<p>Stats are often retrieved by users and utilities through WSGI
apps like <a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">brim.wsgi_stats.WSGIStats</span></tt></a>.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.tcp_echo" title="brim.tcp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.tcp_echo</span></tt></a> for what
stats are defined.</p>
<p>The available stat_types are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>worker</td>
<td>Indicates a worker only stat. No overall stat will be
reported.</td>
</tr>
<tr class="row-even"><td>sum</td>
<td>Indicates an overall stat should be reported that is a
sum of the stat from all workers.</td>
</tr>
<tr class="row-odd"><td>min</td>
<td>Indicates an overall stat should be reported that is the
smallest value of the stat from all workers.</td>
</tr>
<tr class="row-even"><td>max</td>
<td>Indicates an overall stat should be reported that is the
largest value of the stat from all workers.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the daemon server.</li>
<li><strong>parsed_conf</strong> -- The result from <a class="reference internal" href="#brim.tcp_echo.TCPEcho.parse_conf" title="brim.tcp_echo.TCPEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of (stat_name, stat_type) pairs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-brim.udp_echo">
<span id="brim-udp-echo"></span><h2>brim.udp_echo<a class="headerlink" href="#module-brim.udp_echo" title="Permalink to this headline">¶</a></h2>
<p>Contains a simple straight UDP datagram application.</p>
<p>The application just echoes any incoming data back. This is a good
starting point for other UDP applications. See the source for what's
implemented and why.</p>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">udp_echo</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">udp_echo</span><span class="o">.</span><span class="n">UDPEcho</span>
</pre></div>
</div>
<p>Standard configuration options for all UDP apps are also supported. See
<a class="reference internal" href="brimdconfsample.html#brimdconfsample"><em>brimd.conf-sample</em></a> for more information.</p>
<p>Stats Variables:</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="9%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>byte_count</td>
<td>sum</td>
<td>Number of bytes read from clients.</td>
</tr>
<tr class="row-odd"><td>datagram_count</td>
<td>sum</td>
<td>The number of datagrams received.</td>
</tr>
<tr class="row-even"><td>start_time</td>
<td>worker</td>
<td>Timestamp when the app was started. If the app
had to be restarted, this timestamp will be
updated with the new start time. This item is
available with all apps and set by the
controlling <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a>.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="brim.udp_echo.UDPEcho">
<em class="property">class </em><tt class="descclassname">brim.udp_echo.</tt><tt class="descname">UDPEcho</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.udp_echo.UDPEcho" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A simple straight UDP socket application.</p>
<p>The application just echoes any incoming data back. This is a good
starting point for other UDP applications. See the source for what's
implemented and why.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.udp_echo.UDPEcho.parse_conf" title="brim.udp_echo.UDPEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.udp_echo.UDPEcho.__call__">
<tt class="descname">__call__</tt><big>(</big><em>subserver</em>, <em>stats</em>, <em>sock</em>, <em>datagram</em>, <em>ip</em>, <em>port</em><big>)</big><a class="headerlink" href="#brim.udp_echo.UDPEcho.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply echo the incoming data back.</p>
<p>This is the main entry point to the daemon. The brimd subserver
will spawn a subprocess, listen on a UDP endpoint, create an
instance of this app, and then call this method for each
incoming datagram. If the app raises an Exception, a new
instance of the app will be created and handed future
datagrams.</p>
<p>The stats object will have at least the stat variables asked for
in <a class="reference internal" href="#brim.udp_echo.UDPEcho.stats_conf" title="brim.udp_echo.UDPEcho.stats_conf"><tt class="xref py py-meth docutils literal"><span class="pre">stats_conf()</span></tt></a>. This stats object will support at
least the following methods:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>get(name)</td>
<td>Returns the int value of the stat named.</td>
</tr>
<tr class="row-even"><td>set(name, value)</td>
<td>Sets the value of the stat named. The value
will be treated as an unsigned integer.</td>
</tr>
<tr class="row-odd"><td>incr(name)</td>
<td>Increments the value of the stat named by 1.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>subserver</strong> -- The <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a> that is
managing this app.</li>
<li><strong>stats</strong> -- The shared memory statistics object as defined
above.</li>
<li><strong>sock</strong> -- The socket associated with the datagram; useful for
replying back using sendto.</li>
<li><strong>datagram</strong> -- The just received datagram.</li>
<li><strong>ip</strong> -- The remote IP address.</li>
<li><strong>port</strong> -- The remote IP port.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.udp_echo.UDPEcho.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.udp_echo.UDPEcho.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.udp_echo.UDPEcho.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.udp_echo.UDPEcho.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into a daemon-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.udp_echo.UDPEcho" title="brim.udp_echo.UDPEcho"><tt class="xref py py-class docutils literal"><span class="pre">UDPEcho</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.udp_echo" title="brim.udp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.udp_echo</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.udp_echo.UDPEcho" title="brim.udp_echo.UDPEcho"><tt class="xref py py-class docutils literal"><span class="pre">UDPEcho</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="brim.udp_echo.UDPEcho.stats_conf">
<em class="property">classmethod </em><tt class="descname">stats_conf</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.udp_echo.UDPEcho.stats_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (stat_name, stat_type) pairs.</p>
<p>These pairs specify the stat variables this app wants
established in the <tt class="docutils literal"><span class="pre">stats</span></tt> instance passed to
<a class="reference internal" href="#brim.udp_echo.UDPEcho.__call__" title="brim.udp_echo.UDPEcho.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a>.</p>
<p>Stats are often retrieved by users and utilities through WSGI
apps like <a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">brim.wsgi_stats.WSGIStats</span></tt></a>.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.udp_echo" title="brim.udp_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.udp_echo</span></tt></a> for what
stats are defined.</p>
<p>The available stat_types are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>worker</td>
<td>Indicates a worker only stat. No overall stat will be
reported.</td>
</tr>
<tr class="row-even"><td>sum</td>
<td>Indicates an overall stat should be reported that is a
sum of the stat from all workers.</td>
</tr>
<tr class="row-odd"><td>min</td>
<td>Indicates an overall stat should be reported that is the
smallest value of the stat from all workers.</td>
</tr>
<tr class="row-even"><td>max</td>
<td>Indicates an overall stat should be reported that is the
largest value of the stat from all workers.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the daemon server.</li>
<li><strong>parsed_conf</strong> -- The result from <a class="reference internal" href="#brim.udp_echo.UDPEcho.parse_conf" title="brim.udp_echo.UDPEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of (stat_name, stat_type) pairs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-brim.util">
<span id="brim-util"></span><h2>brim.util<a class="headerlink" href="#module-brim.util" title="Permalink to this headline">¶</a></h2>
<p>Miscellaneous classes and functions.</p>
<dl class="exception">
<dt id="brim.util.LockPathTimeout">
<em class="property">exception </em><tt class="descclassname">brim.util.</tt><tt class="descname">LockPathTimeout</tt><a class="headerlink" href="#brim.util.LockPathTimeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">exceptions.Exception</span></tt></p>
<p>Raised by <a class="reference internal" href="#brim.util.lock_path" title="brim.util.lock_path"><tt class="xref py py-func docutils literal"><span class="pre">lock_path()</span></tt></a> if its timeout is reached.</p>
</dd></dl>

<dl class="function">
<dt id="brim.util.lock_path">
<tt class="descclassname">brim.util.</tt><tt class="descname">lock_path</tt><big>(</big><em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#brim.util.lock_path" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager that attempts to gain an advisory lock.</p>
<p>The advisory lock is attempted for the path given within the timeout
given. Raises <a class="reference internal" href="#brim.util.LockPathTimeout" title="brim.util.LockPathTimeout"><tt class="xref py py-class docutils literal"><span class="pre">LockPathTimeout</span></tt></a> if time expires before
gaining the lock. If the lock is obtained, True is yielded and the
lock relinquished when the context ends.</p>
<p>For example:</p>
<div class="highlight-python"><pre>with lock_path(path, timeout):
    # do things inside path knowing others using the same
    # advisory locking mechanism will be blocked until you're
    # done.</pre>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> -- The path to gain an advisory lock on.</li>
<li><strong>timeout</strong> -- The number of seconds to wait to gain the lock
before raising <a class="reference internal" href="#brim.util.LockPathTimeout" title="brim.util.LockPathTimeout"><tt class="xref py py-class docutils literal"><span class="pre">LockPathTimeout</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.util.make_dirs">
<tt class="descclassname">brim.util.</tt><tt class="descname">make_dirs</tt><big>(</big><em>path</em>, <em>mode=511</em><big>)</big><a class="headerlink" href="#brim.util.make_dirs" title="Permalink to this definition">¶</a></dt>
<dd><p>os.makedirs but ignoring errors due to the path already existing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> -- The path to create a directory and all parent
directories for.</li>
<li><strong>mode</strong> -- The permissions mode (masked with the current umask) to
create new directories with; defaults to 0o777.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="brim.util.unlink">
<tt class="descclassname">brim.util.</tt><tt class="descname">unlink</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#brim.util.unlink" title="Permalink to this definition">¶</a></dt>
<dd><p>os.unlink but ignoring errors due to the path already not existing.</p>
</dd></dl>

</div>
<div class="section" id="module-brim.wsgi_basic_auth">
<span id="brim-wsgi-basic-auth"></span><h2>brim.wsgi_basic_auth<a class="headerlink" href="#module-brim.wsgi_basic_auth" title="Permalink to this headline">¶</a></h2>
<p>A WSGI application that offers Basic Auth capabilities.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an early version of this module. It has no tests, limited
documentation, and is subject to major changes.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is HTTP Basic Auth, so the password will be transmitted in the
clear. You definitely should be using SSL when using Basic Auth.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Requires the <tt class="docutils literal"><span class="pre">bcrypt</span></tt> package
<a class="reference external" href="https://pypi.python.org/pypi/py-bcrypt">https://pypi.python.org/pypi/py-bcrypt</a></p>
</div>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">basic</span><span class="o">-</span><span class="n">auth</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">wsgi_basic_auth</span><span class="o">.</span><span class="n">WSGIBasicAuth</span>
<span class="c"># auth_path = &lt;path&gt;</span>
<span class="c">#   The local file path to the auth details. This file should be</span>
<span class="c">#   plain text, one user per line, with each line a user name</span>
<span class="c">#   followed by whitespace and then the bcrypt password entry for</span>
<span class="c">#   the user. You can obtain the bcrypt password entry with the</span>
<span class="c">#   following:</span>
<span class="c">#       $ python -c &#39;</span>
<span class="c">#       &gt; import bcrypt</span>
<span class="c">#       &gt; print bcrypt.hashpw(&quot;secret&quot;, bcrypt.gensalt())&#39;</span>
<span class="c">#   The file will automatically be reloaded if changed within five</span>
<span class="c">#   minutes.</span>
</pre></div>
</div>
<dl class="class">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth">
<em class="property">class </em><tt class="descclassname">brim.wsgi_basic_auth.</tt><tt class="descname">WSGIBasicAuth</tt><big>(</big><em>name</em>, <em>parsed_conf</em>, <em>next_app</em><big>)</big><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A WSGI application that offers Basic Auth capabilities.</p>
<p>See <a class="reference internal" href="#module-brim.wsgi_basic_auth" title="brim.wsgi_basic_auth"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_basic_auth</span></tt></a> for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.wsgi_basic_auth.WSGIBasicAuth.parse_conf" title="brim.wsgi_basic_auth.WSGIBasicAuth.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
<li><strong>next_app</strong> -- The next WSGI app in the chain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles incoming requests, adhering to any basic auth settings.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI env as per the spec.</li>
<li><strong>start_response</strong> -- The WSGI start_response as per the spec.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Calls <em>start_response</em> and returns an iterable as per
the WSGI spec.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth.auth_path">
<tt class="descname">auth_path</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth.auth_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The auth file path; see <a class="reference internal" href="#module-brim.wsgi_basic_auth" title="brim.wsgi_basic_auth"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_basic_auth</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth.next_app">
<tt class="descname">next_app</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth.next_app" title="Permalink to this definition">¶</a></dt>
<dd><p>The next WSGI app in the chain.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.wsgi_basic_auth.WSGIBasicAuth.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.wsgi_basic_auth.WSGIBasicAuth.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into an app-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_basic_auth.WSGIBasicAuth" title="brim.wsgi_basic_auth.WSGIBasicAuth"><tt class="xref py py-class docutils literal"><span class="pre">WSGIBasicAuth</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.wsgi_basic_auth" title="brim.wsgi_basic_auth"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_basic_auth</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_basic_auth.WSGIBasicAuth" title="brim.wsgi_basic_auth.WSGIBasicAuth"><tt class="xref py py-class docutils literal"><span class="pre">WSGIBasicAuth</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-brim.wsgi_echo">
<span id="brim-wsgi-echo"></span><h2>brim.wsgi_echo<a class="headerlink" href="#module-brim.wsgi_echo" title="Permalink to this headline">¶</a></h2>
<p>A simple WSGI application that just echoes the request body.</p>
<p>This is a good starting point for other WSGI applications. See the
source for what's implemented and why.</p>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">wsgi_echo</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">wsgi_echo</span><span class="o">.</span><span class="n">WSGIEcho</span>
<span class="c"># path = &lt;path&gt;</span>
<span class="c">#   The request path to match and serve; any other paths will be</span>
<span class="c">#   passed on to the next WSGI app in the chain. Default: /echo</span>
<span class="c"># max_echo = &lt;bytes&gt;</span>
<span class="c">#   The maximum bytes to echo; any additional bytes will be ignored.</span>
<span class="c">#   Default: 65536</span>
</pre></div>
</div>
<p>Stats Variables (where <em>n.</em> is the name of the app in the config):</p>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="9%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>n.requests</td>
<td>sum</td>
<td>The number of requests received.</td>
</tr>
<tr class="row-odd"><td>start_time</td>
<td>worker</td>
<td>Timestamp when the app was started. If the app
had to be restarted, this timestamp will be
updated with the new start time. This item is
available with all apps and set by the
controlling <a class="reference internal" href="#brim.server.Subserver" title="brim.server.Subserver"><tt class="xref py py-class docutils literal"><span class="pre">brim.server.Subserver</span></tt></a>.</td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="brim.wsgi_echo.WSGIEcho">
<em class="property">class </em><tt class="descclassname">brim.wsgi_echo.</tt><tt class="descname">WSGIEcho</tt><big>(</big><em>name</em>, <em>parsed_conf</em>, <em>next_app</em><big>)</big><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A simple WSGI application that just echoes the request body.</p>
<p>This is a good starting point for other WSGI applications. See the
source for what's implemented and why.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.wsgi_echo.WSGIEcho.parse_conf" title="brim.wsgi_echo.WSGIEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
<li><strong>next_app</strong> -- The next WSGI app in the chain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.wsgi_echo.WSGIEcho.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles incoming requests.</p>
<p>If the request path exactly matches the one configured for this
app, the request body will be read and then sent back in the
response. Otherwise, the request is passed on to the next app in
the chain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI env as per the spec.</li>
<li><strong>start_response</strong> -- The WSGI start_response as per the spec.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Calls <em>start_response</em> and returns an iterable as per
the WSGI spec.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_echo.WSGIEcho.max_echo">
<tt class="descname">max_echo</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.max_echo" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum request size to echo back.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_echo.WSGIEcho.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_echo.WSGIEcho.next_app">
<tt class="descname">next_app</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.next_app" title="Permalink to this definition">¶</a></dt>
<dd><p>The next WSGI app in the chain.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.wsgi_echo.WSGIEcho.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into an app-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_echo.WSGIEcho" title="brim.wsgi_echo.WSGIEcho"><tt class="xref py py-class docutils literal"><span class="pre">WSGIEcho</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.wsgi_echo" title="brim.wsgi_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_echo</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_echo.WSGIEcho" title="brim.wsgi_echo.WSGIEcho"><tt class="xref py py-class docutils literal"><span class="pre">WSGIEcho</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_echo.WSGIEcho.path">
<tt class="descname">path</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL path to serve.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.wsgi_echo.WSGIEcho.stats_conf">
<em class="property">classmethod </em><tt class="descname">stats_conf</tt><big>(</big><em>name</em>, <em>parsed_conf</em><big>)</big><a class="headerlink" href="#brim.wsgi_echo.WSGIEcho.stats_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of (stat_name, stat_type) pairs.</p>
<p>These pairs specify the stat variables this app wants
established in the <tt class="docutils literal"><span class="pre">stats</span></tt> instance passed to
<a class="reference internal" href="#brim.wsgi_echo.WSGIEcho.__call__" title="brim.wsgi_echo.WSGIEcho.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a>.</p>
<p>Stats are often retrieved by users and utilities through WSGI
apps like <a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">brim.wsgi_stats.WSGIStats</span></tt></a>.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.wsgi_echo" title="brim.wsgi_echo"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_echo</span></tt></a> for what
stats are defined.</p>
<p>The available stat_types are:</p>
<table border="1" class="docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>worker</td>
<td>Indicates a worker only stat. No overall stat will be
reported.</td>
</tr>
<tr class="row-even"><td>sum</td>
<td>Indicates an overall stat should be reported that is a
sum of the stat from all workers.</td>
</tr>
<tr class="row-odd"><td>min</td>
<td>Indicates an overall stat should be reported that is the
smallest value of the stat from all workers.</td>
</tr>
<tr class="row-even"><td>max</td>
<td>Indicates an overall stat should be reported that is the
largest value of the stat from all workers.</td>
</tr>
</tbody>
</table>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the daemon server.</li>
<li><strong>parsed_conf</strong> -- The result from <a class="reference internal" href="#brim.wsgi_echo.WSGIEcho.parse_conf" title="brim.wsgi_echo.WSGIEcho.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of (stat_name, stat_type) pairs.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-brim.wsgi_fs">
<span id="brim-wsgi-fs"></span><h2>brim.wsgi_fs<a class="headerlink" href="#module-brim.wsgi_fs" title="Permalink to this headline">¶</a></h2>
<p>A WSGI application that simply serves up files from the file system.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is an early version of this module. It has no tests, limited
documentation, and is subject to major changes.</p>
</div>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">wsgi_fs</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">wsgi_fs</span><span class="o">.</span><span class="n">WSGIFS</span>
<span class="c"># path = &lt;path&gt;</span>
<span class="c">#   The request path to match and serve; any paths that do not begin</span>
<span class="c">#   with this value will be passed on to the next WSGI app in the</span>
<span class="c">#   chain. Default: /</span>
<span class="c"># serve_path = &lt;path&gt;</span>
<span class="c">#   The local file path containing files to serve.</span>
</pre></div>
</div>
<dl class="class">
<dt id="brim.wsgi_fs.WSGIFS">
<em class="property">class </em><tt class="descclassname">brim.wsgi_fs.</tt><tt class="descname">WSGIFS</tt><big>(</big><em>name</em>, <em>parsed_conf</em>, <em>next_app</em><big>)</big><a class="headerlink" href="#brim.wsgi_fs.WSGIFS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A WSGI app for serving up files from the file system.</p>
<p>See <a class="reference internal" href="#module-brim.wsgi_fs" title="brim.wsgi_fs"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_fs</span></tt></a> for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.wsgi_fs.WSGIFS.parse_conf" title="brim.wsgi_fs.WSGIFS.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
<li><strong>next_app</strong> -- The next WSGI app in the chain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.wsgi_fs.WSGIFS.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles incoming WSGI requests.</p>
<p>Requests that start with the configured path simply serve up any
files under the configured location on the file system. Other
requests are passed on to the next WSGI app in the chain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI env as per the spec.</li>
<li><strong>start_response</strong> -- The WSGI start_response as per the spec.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Calls <em>start_response</em> and returns an iterable as per
the WSGI spec.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_fs.WSGIFS.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_fs.WSGIFS.next_app">
<tt class="descname">next_app</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.next_app" title="Permalink to this definition">¶</a></dt>
<dd><p>The next WSGI app in the chain.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.wsgi_fs.WSGIFS.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into an app-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_fs.WSGIFS" title="brim.wsgi_fs.WSGIFS"><tt class="xref py py-class docutils literal"><span class="pre">WSGIFS</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.wsgi_fs" title="brim.wsgi_fs"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_fs</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_fs.WSGIFS" title="brim.wsgi_fs.WSGIFS"><tt class="xref py py-class docutils literal"><span class="pre">WSGIFS</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_fs.WSGIFS.path">
<tt class="descname">path</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The request path to match and serve.</p>
<p>Any paths that do not begin with this value will be passed on to
the next WSGI app in the chain. The attribute will have leading
and trailing foward slashes removed.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_fs.WSGIFS.serve_path">
<tt class="descname">serve_path</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_fs.WSGIFS.serve_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The local file path containing files to serve.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="brim.wsgi_fs.http_date_time">
<tt class="descclassname">brim.wsgi_fs.</tt><tt class="descname">http_date_time</tt><big>(</big><em>when</em><big>)</big><a class="headerlink" href="#brim.wsgi_fs.http_date_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a date and time formatted as per HTTP RFC 2616.</p>
</dd></dl>

</div>
<div class="section" id="module-brim.wsgi_stats">
<span id="brim-wsgi-stats"></span><h2>brim.wsgi_stats<a class="headerlink" href="#module-brim.wsgi_stats" title="Permalink to this headline">¶</a></h2>
<p>Reports the brimd server stats as a JSON reponse.</p>
<p>The stats contain basic things like the server start time and request
counts. You may also add a jsonp or callback query variable for JSONP
support.</p>
<p>Configuration Options:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="n">wsgi_stats</span><span class="p">]</span>
<span class="n">call</span> <span class="o">=</span> <span class="n">brim</span><span class="o">.</span><span class="n">wsgi_stats</span><span class="o">.</span><span class="n">WSGIStats</span>
<span class="c"># path = &lt;path&gt;</span>
<span class="c">#   The request path to match and serve; any other paths will be</span>
<span class="c">#   passed on to the next WSGI app in the chain. This can serve as a</span>
<span class="c">#   basic restriction to accessing the stats by setting it to a hard</span>
<span class="c">#   to guess value. Default: /stats</span>
</pre></div>
</div>
<dl class="class">
<dt id="brim.wsgi_stats.WSGIStats">
<em class="property">class </em><tt class="descclassname">brim.wsgi_stats.</tt><tt class="descname">WSGIStats</tt><big>(</big><em>name</em>, <em>parsed_conf</em>, <em>next_app</em><big>)</big><a class="headerlink" href="#brim.wsgi_stats.WSGIStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Reports the brimd server stats as a JSON response.</p>
<p>See <a class="reference internal" href="#module-brim.wsgi_stats" title="brim.wsgi_stats"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_stats</span></tt></a> for more information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> -- The name of the app.</li>
<li><strong>parsed_conf</strong> -- The conf result from <a class="reference internal" href="#brim.wsgi_stats.WSGIStats.parse_conf" title="brim.wsgi_stats.WSGIStats.parse_conf"><tt class="xref py py-meth docutils literal"><span class="pre">parse_conf()</span></tt></a>.</li>
<li><strong>next_app</strong> -- The next WSGI app in the chain.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="brim.wsgi_stats.WSGIStats.__call__">
<tt class="descname">__call__</tt><big>(</big><em>env</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#brim.wsgi_stats.WSGIStats.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles incoming WSGI requests.</p>
<p>If the request path exactly matches the one configured for this
app, a JSON response will be sent containing the brimd server
stats. Otherwise, the request is passed on to the next app in
the chain.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>env</strong> -- The WSGI env as per the spec.</li>
<li><strong>start_response</strong> -- The WSGI start_response as per the spec.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Calls <em>start_response</em> and returns an iterable as per
the WSGI spec.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_stats.WSGIStats.name">
<tt class="descname">name</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_stats.WSGIStats.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the app.</p>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_stats.WSGIStats.next_app">
<tt class="descname">next_app</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_stats.WSGIStats.next_app" title="Permalink to this definition">¶</a></dt>
<dd><p>The next WSGI app in the chain.</p>
</dd></dl>

<dl class="classmethod">
<dt id="brim.wsgi_stats.WSGIStats.parse_conf">
<em class="property">classmethod </em><tt class="descname">parse_conf</tt><big>(</big><em>name</em>, <em>conf</em><big>)</big><a class="headerlink" href="#brim.wsgi_stats.WSGIStats.parse_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>Translates the overall server configuration.</p>
<p>The conf is translated into an app-specific configuration dict
suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">WSGIStats</span></tt></a> constructor.</p>
<p>See the overall docs of <a class="reference internal" href="#module-brim.wsgi_stats" title="brim.wsgi_stats"><tt class="xref py py-mod docutils literal"><span class="pre">brim.wsgi_stats</span></tt></a> for
configuration options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> -- The name of the app, indicates the app's section in
the overall configuration for the server.</li>
<li><strong>conf</strong> -- The <a class="reference internal" href="#brim.conf.Conf" title="brim.conf.Conf"><tt class="xref py py-class docutils literal"><span class="pre">brim.conf.Conf</span></tt></a> instance
representing the overall configuration of the server.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dict suitable for passing as <tt class="docutils literal"><span class="pre">parsed_conf</span></tt> in the
<a class="reference internal" href="#brim.wsgi_stats.WSGIStats" title="brim.wsgi_stats.WSGIStats"><tt class="xref py py-class docutils literal"><span class="pre">WSGIStats</span></tt></a> constructor.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="brim.wsgi_stats.WSGIStats.path">
<tt class="descname">path</tt><em class="property"> = None</em><a class="headerlink" href="#brim.wsgi_stats.WSGIStats.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The request path to exactly match and serve.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">brim</a><ul>
<li><a class="reference internal" href="#module-brim.conf">brim.conf</a></li>
<li><a class="reference internal" href="#module-brim.daemon_sample">brim.daemon_sample</a></li>
<li><a class="reference internal" href="#module-brim.http">brim.http</a></li>
<li><a class="reference internal" href="#module-brim.httpform">brim.httpform</a></li>
<li><a class="reference internal" href="#module-brim.log">brim.log</a></li>
<li><a class="reference internal" href="#module-brim.server">brim.server</a></li>
<li><a class="reference internal" href="#module-brim.service">brim.service</a></li>
<li><a class="reference internal" href="#module-brim.tcp_echo">brim.tcp_echo</a></li>
<li><a class="reference internal" href="#module-brim.udp_echo">brim.udp_echo</a></li>
<li><a class="reference internal" href="#module-brim.util">brim.util</a></li>
<li><a class="reference internal" href="#module-brim.wsgi_basic_auth">brim.wsgi_basic_auth</a></li>
<li><a class="reference internal" href="#module-brim.wsgi_echo">brim.wsgi_echo</a></li>
<li><a class="reference internal" href="#module-brim.wsgi_fs">brim.wsgi_fs</a></li>
<li><a class="reference internal" href="#module-brim.wsgi_stats">brim.wsgi_stats</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="brimdconfsample.html"
                        title="previous chapter">Sample brimd.conf</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="brimdconfsample.html" title="Sample brimd.conf"
             >previous</a> |</li>
        <li><a href="index.html">Brim.Net Core Package 0.05 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012-2014, Gregory Holt, portions (httpform) 2011 OpenStack, LLC..
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2b3.
    </div>
  </body>
</html>